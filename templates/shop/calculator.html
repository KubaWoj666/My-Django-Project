{% extends 'base_shop.html' %}
{% load static %}
{% load widget_tweaks %}


{% block css %}
    <link rel="stylesheet" href="{% static 'style/calculator.css' %}">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

{% endblock css %}
    


{% block content%}
    <section id="title">
        <h2>Wycena i skup metali szlachetnych</h2>
        <hr>
        <p>Metale szlachetne wyceniamy opierając się o aktualne notowania giełdowe.</p>
    </section>
    
    <section id="price_table">
        <div class="tbl-price" >
            <h3>Ceny skupu złota, srebra i platyny</h3>
            <table class="table" style="width: 25rem;">
                <thead>
                  <tr class="table-primary">
                    <th scope="col">Próba</th>
                    <th scope="col">Cena</th>
                  </tr>
                </thead>
                <tbody>
                    
                    {% for metal in metal_prices  %}
                    <tr class="table-light">
                        <td>{{metal.material}} {{metal.grade}}</td>
                        <td>{{metal.price}}zł/g</td>
                      </tr>
                    {% endfor %}
                </tbody>
              </table>
        </div>

        <div class="wycena" >
            <h3>wycena</h3>
            <form action="" method="post">
                {% csrf_token %}
                <div  id="weight" class="forms-control {% if field.errors %} errors {% endif %} ">
                    <label>Masa</label>
                    {{ form.weight.errors }}
                    {% render_field form.weight class="form-control border-primary"   name="weight" id="id_weight"%}
                    <p>gram</p>
                </div>

                

                <select name="grade" class="form-select" aria-label="Default select example">
                    <option selected>Próba</option>      
                    {%for metal in metal_prices  %}
                    <option  value="{{metal.price}}">{{metal.material}} {{metal.grade}}</option>
                    {% endfor %}
                  </select>
                
                <button type="submit">Calculate</button>
            </form>
        </div>
    </section>

    

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>

    
{% endblock content%}
    